<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo Async/Await com JSON</title>
    <style>
        /* Estilos básicos para deixar o formulário apresentável */
        body { font-family: Arial, sans-serif; display: flex; justify-content: center; padding-top: 50px; }
        .card { border: 1px solid #ccc; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); width: 300px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        button:hover { background-color: #218838; }
        /* Classe para desabilitar o botão enquanto carrega */
        button:disabled { background-color: #ccc; cursor: not-allowed; }
    </style>
</head>
<body>

    <div class="card">
        <h2>Dados do Usuário</h2>
        <form id="meuFormulario">
            <div class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" readonly placeholder="Aguardando...">
            </div>
            <div class="form-group">
                <label for="endereco">Endereço:</label>
                <input type="text" id="endereco" readonly placeholder="Aguardando...">
            </div>
            <div class="form-group">
                <label for="telefone">Telefone:</label>
                <input type="text" id="telefone" readonly placeholder="Aguardando...">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" readonly placeholder="Aguardando...">
            </div>
            
            <button type="button" id="btnCarregar">Carregar Dados</button>
        </form>
    </div>

    <script>
        // --- 1. FUNÇÃO DE SIMULAÇÃO (MOCK) ---
        // Esta função simula uma requisição externa (como buscar de um servidor)
        // Ela retorna uma "Promise" que demora 1.5 segundos para resolver.
        function simularApiExterna() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    // Este é o nosso "JSON" (Dicionário de dados)
                    const dadosJson = {
                        "nome": "Raimundo jesus da silva",
                        "endereco": "Av. Nordeste, 852 - Sertão",
                        "telefone": "(81) 95329-5328",
                        "email": "raimundomoisesamen8888@gmail.com"
                    };
                    resolve(dadosJson);
                }, 1500); // 1500ms = 1.5 segundos de espera
            });
        }

        // --- 2. LÓGICA ASYNC / AWAIT ---
        
        // Selecionamos o botão pelo ID
        const botao = document.getElementById('btnCarregar');

        // Adicionamos um "ouvinte de evento" para o clique
        // Note que a função de callback possui a palavra 'async' antes dela.
        botao.addEventListener('click', async function() {
            
            // Passo A: Feedback visual (Muda o texto do botão)
            botao.textContent = "Carregando...";
            botao.disabled = true; // Desabilita para evitar múltiplos cliques

            try {
                // Passo B: A mágica do AWAIT
                // O código PAUSA nesta linha exata até que 'simularApiExterna' termine.
                // Não precisamos de .then() ou callbacks complexos.
                const dadosRecebidos = await simularApiExterna();

                // Passo C: O código retoma aqui APÓS os 1.5 segundos.
                // Agora pegamos os elementos do HTML e inserimos os valores do JSON.
                document.getElementById('nome').value = dadosRecebidos.nome;
                document.getElementById('endereco').value = dadosRecebidos.endereco;
                document.getElementById('telefone').value = dadosRecebidos.telefone;
                document.getElementById('email').value = dadosRecebidos.email;

                // Passo D: Feedback de sucesso
                botao.textContent = "Dados Carregados!";

            } catch (erro) {
                // Passo E: Tratamento de erro (caso a promessa falhe)
                console.error("Houve um erro:", erro);
                alert("Erro ao buscar dados.");
                botao.textContent = "Tentar Novamente";
            } finally {
                // Passo F: Executa sempre, com erro ou sucesso (reabilita o botão)
                botao.disabled = false;
            }
        });
    </script>
</body>
</html>